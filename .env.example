# YouTube to Google Drive - Environment Variables Template
# Copy this file to .env and fill in your values

# ========== WHISPER TRANSCRIPTION ==========
# Device to use for transcription: 'cpu' or 'cuda'
WHISPER_DEVICE=cpu

# Whisper model: tiny, base, small, medium, large
WHISPER_MODEL_DEFAULT=small
WHISPER_MODEL_LOCAL=medium

# ========== GOOGLE DRIVE API ==========
# Path to your Google credentials JSON file
CREDENTIALS_FILE=credentials.json

# Path to token pickle file (auto-generated after first auth)
TOKEN_PICKLE=token.pickle

# ========== LOGGING ==========
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ========== DIRECTORIES ==========
# Temporary directory for downloads
TEMP_DOWNLOAD_DIR=temp_downloads

# Input directory for local transcriber
INPUT_DIR=input

# Output directory for local transcriber
OUTPUT_DIR=output

# Temporary directory for processing
TEMP_DIR=temp

# Logs directory
LOG_DIR=logs

# ========== FILES ==========
# Configuration file for video URLs
LINKS_CONFIG_FILE=LinksYT.json

# ========== YT-DLP CONFIGURATION ==========
# Number of retries for downloads
YT_DLP_RETRIES=10

# Number of retries for fragments
YT_DLP_FRAGMENT_RETRIES=10

# Socket timeout in seconds
YT_DLP_SOCKET_TIMEOUT=20

# ========== DRIVE UPLOAD ==========
# Maximum retries for Drive uploads
DRIVE_UPLOAD_MAX_RETRIES=3

# Delay between retries in seconds
DRIVE_UPLOAD_RETRY_DELAY=2

# ========== NOTION API ==========
# Notion Integration Token (starts with "secret_")
# Get it from: https://www.notion.so/my-integrations
NOTION_TOKEN=your_notion_integration_token_here

# Discord Message Database ID (32-char hex, no dashes)
# This is the source database where Discord messages are stored
# Used to read video URLs and update the "Transcript" field with results
DISCORD_MESSAGE_DB_ID=your_discord_message_database_id_here

# Videos Database ID (32-char hex, no dashes)
# Destination database where new video pages are created (for create_new_page action)
# Only needed for channels using action_type="create_new_page"
VIDEOS_DB_ID=your_videos_database_id_here

# ========== GOOGLE DRIVE FOLDERS ==========
# Each Discord channel uploads files to a specific Google Drive folder
# Get folder ID from the URL: https://drive.google.com/drive/folders/<FOLDER_ID>

# Drive folder for "market-outlook" Discord channel
DRIVE_FOLDER_MARKET_OUTLOOK=your_drive_folder_id_here

# Drive folder for "market-analysis-streams" Discord channel
DRIVE_FOLDER_MARKET_ANALYSIS=your_drive_folder_id_here

# Drive folder for "education" Discord channel
DRIVE_FOLDER_EDUCATION=your_drive_folder_id_here

# Drive folder for "mhc-recordings" Discord channel
DRIVE_FOLDER_MHC_RECORDINGS=your_drive_folder_id_here

# Drive folder for "audit-process" Discord channel
DRIVE_FOLDER_AUDIT_PROCESS=your_drive_folder_id_here

# ========== LEGACY VARIABLES ==========
# Kept for backward compatibility with older scripts
NOTION_DATABASE_ID=your_legacy_database_id_here
START_DATE=2025-01-01
DISCORDTODRIVE_SCRIPT=./DiscordToDrive.py

# ========== CELERY & REDIS ==========
# Redis URL for Celery broker and backend
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery task configuration
CELERY_TASK_MAX_RETRIES=3
CELERY_TASK_RETRY_DELAY=60
CELERY_TASK_TIME_LIMIT=14400      # 4 horas
CELERY_TASK_SOFT_TIME_LIMIT=14100 # 3h 55min

# Worker concurrency (number of videos processed simultaneously)
# IMPORTANT: For CPU transcription, use 1 (sequential processing)
# For GPU with sufficient VRAM, you can increase to 2-4
CELERY_WORKER_CONCURRENCY=1

# ========== WEBHOOK SERVER ==========
# Host and port for webhook server
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=8000

# IMPORTANT: Change this secret in production for security
WEBHOOK_SECRET=change-this-secret-in-production

# ========== FLOWER DASHBOARD ==========
# Port for Flower monitoring dashboard
FLOWER_PORT=5555

# Optional: Basic auth for Flower (format: "username:password")
FLOWER_BASIC_AUTH=
